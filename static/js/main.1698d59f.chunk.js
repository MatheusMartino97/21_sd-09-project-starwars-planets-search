(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),u=(a(13),a(3)),o=a(2),i=a(1),m=a.n(i),s=a(4),p=a(5),d=Object(n.createContext)(),E=function(){var e=Object(s.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://swapi-trybe.herokuapp.com/api/planets/",e.next=4,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 4:return t=e.sent,e.next=7,t.json();case 7:return a=e.sent,n=a.results,e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Error(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();var f=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(p.a)(a,2),c=l[0],i=l[1],f=Object(n.useState)([]),b=Object(p.a)(f,2),v=b[0],h=b[1],j=Object(n.useState)({name:"",number:0,column:"population",comparison:"maior que"}),O=Object(p.a)(j,2),g=O[0],y=O[1],x=function(){var e=Object(s.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,i(t),h(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){x()}),[]);var k={changeNameToBeFiltered:function(e){var t=e.target.value;y(Object(o.a)(Object(o.a)({},g),{},{name:t}))},filterPlanetsByName:function(e){var t=e.target.value,a=c.filter((function(e){return e.name.includes(t)}));h(a)},filteredPlanets:v,changeNumericInfoToBeFiltered:function(e){var t=e.target,a=t.name,n=t.value;y(Object(o.a)(Object(o.a)({},g),{},Object(u.a)({},a,n)))},handleButtonFilterClick:function(){var e=g.number,t=g.column,a=g.comparison,n=c.filter((function(n){return"maior que"===a?parseInt(n[t],10)>parseInt(e,10):"menor que"===a?parseInt(n[t],10)<parseInt(e,10):parseInt(n[t],10)===parseInt(e,10)}));h(n)},clearFilters:function(){y({name:"",number:0,column:"population",comparison:"maior que"}),h(c)},filters:g};return r.a.createElement(d.Provider,{value:k},t)};var b=function(){var e=Object(n.useContext)(d),t=e.changeNameToBeFiltered,a=e.filterPlanetsByName,l=e.changeNumericInfoToBeFiltered,c=e.handleButtonFilterClick,u=e.filters,o=e.clearFilters,i=r.a.createElement("button",{type:"button",onClick:o,"data-testid":"filter"},"X");return r.a.createElement("form",{action:""},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Filtrar por nome"),r.a.createElement("input",{type:"text",name:"",id:"","data-testid":"name-filter",onChange:function(e){t(e),a(e)}})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Filtrar por valores"),r.a.createElement("select",{name:"column",id:"","data-testid":"column-filter",onChange:l,value:u.column},r.a.createElement("option",{value:"population"},"population"),r.a.createElement("option",{value:"orbital_period"},"orbital_period"),r.a.createElement("option",{value:"diameter"},"diameter"),r.a.createElement("option",{value:"rotation_period"},"rotation_period"),r.a.createElement("option",{value:"surface_water"},"surface_water")),i,r.a.createElement("select",{name:"comparison",id:"","data-testid":"comparison-filter",onChange:l,value:u.comparison},r.a.createElement("option",{value:"maior que"},"maior que"),r.a.createElement("option",{value:"menor que"},"menor que"),r.a.createElement("option",{value:"igual a"},"igual a")),i,r.a.createElement("input",{type:"number",name:"number","data-testid":"value-filter",onChange:l,value:u.number}),i,r.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:c},"Filtrar")))};var v=function(){var e=Object(n.useContext)(d).filteredPlanets;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rotation Period"),r.a.createElement("th",null,"Orbital Period"),r.a.createElement("th",null,"Diameter"),r.a.createElement("th",null,"Climate"),r.a.createElement("th",null,"Gravity"),r.a.createElement("th",null,"Terrain"),r.a.createElement("th",null,"Surface Water"),r.a.createElement("th",null,"Population"),r.a.createElement("th",null,"Films"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Edited"),r.a.createElement("th",null,"Url"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))}))))};var h=function(){return r.a.createElement(f,null,r.a.createElement(b,null),r.a.createElement(v,null))};c.a.render(r.a.createElement(h,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.1698d59f.chunk.js.map